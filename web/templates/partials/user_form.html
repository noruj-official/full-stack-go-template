{{if .Error}}
<div
    class="p-4 rounded-xl bg-red-50 dark:bg-red-950/50 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 animate-scale-in mb-6">
    <div class="flex items-center gap-2">
        <i data-lucide="alert-circle" class="w-5 h-5"></i>
        <span>{{.Error}}</span>
    </div>
</div>
{{end}}

<div class="form-control w-full">
    <label for="name" class="label">
        <span class="label-text">Full Name</span>
    </label>
    <input type="text" id="name" name="name" value="{{if .User}}{{.User.Name}}{{else if .Form}}{{.Form.Name}}{{end}}"
        class="input input-bordered {{if .Error}}input-error{{end}} w-full" placeholder="Enter full name" required>
</div>

<div class="form-control w-full">
    <label for="email" class="label">
        <span class="label-text">Email Address</span>
    </label>
    <input type="email" id="email" name="email"
        value="{{if .User}}{{.User.Email}}{{else if .Form}}{{.Form.Email}}{{end}}"
        class="input input-bordered {{if .Error}}input-error{{end}} w-full" placeholder="Enter email address" required>
</div>

<div class="flex items-center gap-3 pt-4">
    <button type="submit" class="btn btn-primary">
        <span class="htmx-indicator loading loading-spinner loading-xs"></span>
        {{if .User}}
        <i data-lucide="save" class="w-4 h-4"></i>
        Save Changes
        {{else}}
        <i data-lucide="user-plus" class="w-4 h-4"></i>
        Create User
        {{end}}
    </button>
    <a href="/users" class="btn btn-neutral">Cancel</a>
</div>

<script>
    lucide.createIcons();
</script>