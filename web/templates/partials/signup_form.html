<form hx-post="/signup" hx-target="#signup-content" hx-swap="innerHTML" class="space-y-6">
    {{if .Error}}
    <div
        class="p-4 rounded-xl bg-red-50 dark:bg-red-950/50 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 animate-scale-in mb-6">
        <div class="flex items-center gap-2">
            <i data-lucide="alert-circle" class="w-5 h-5"></i>
            <span>{{.Error}}</span>
        </div>
    </div>
    {{end}}

    <div class="form-control w-full">
        <label for="name" class="label">
            <span class="label-text">Full name</span>
        </label>
        <div class="relative">
            <i data-lucide="user" class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"></i>
            <input type="text" id="name" name="name" value="{{if .Form}}{{.Form.Name}}{{end}}"
                class="input input-bordered pl-11 w-full" placeholder="John Doe" required autocomplete="name">
        </div>
    </div>

    <div class="form-control w-full">
        <label for="email" class="label">
            <span class="label-text">Email address</span>
        </label>
        <div class="relative">
            <i data-lucide="mail" class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"></i>
            <input type="email" id="email" name="email" value="{{if .Form}}{{.Form.Email}}{{end}}"
                class="input input-bordered pl-11 w-full" placeholder="you@example.com" required autocomplete="email">
        </div>
    </div>

    <div class="form-control w-full" x-data="{ showPassword: false }">
        <label for="password" class="label">
            <span class="label-text">Password</span>
        </label>
        <div class="relative">
            <i data-lucide="lock" class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"></i>
            <input :type="showPassword ? 'text' : 'password'" id="password" name="password"
                class="input input-bordered pl-11 pr-11 w-full" placeholder="Create a strong password" required
                autocomplete="new-password" minlength="8">
            <button type="button" @click="showPassword = !showPassword"
                class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300">
                <i x-show="!showPassword" data-lucide="eye" class="w-5 h-5"></i>
                <i x-show="showPassword" data-lucide="eye-off" class="w-5 h-5" x-cloak></i>
            </button>
        </div>
    </div>

    <div class="form-control w-full" x-data="{ showPassword: false }">
        <label for="confirm_password" class="label">
            <span class="label-text">Confirm password</span>
        </label>
        <div class="relative">
            <i data-lucide="lock" class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"></i>
            <input :type="showPassword ? 'text' : 'password'" id="confirm_password" name="confirm_password"
                class="input input-bordered pl-11 pr-11 w-full" placeholder="Confirm your password" required
                autocomplete="new-password">
            <button type="button" @click="showPassword = !showPassword"
                class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300">
                <i x-show="!showPassword" data-lucide="eye" class="w-5 h-5"></i>
                <i x-show="showPassword" data-lucide="eye-off" class="w-5 h-5" x-cloak></i>
            </button>
        </div>
    </div>

    <button type="submit" class="btn btn-primary w-full py-3 mt-6">
        <span class="htmx-indicator loading loading-spinner loading-xs mr-2"></span>
        Create account
    </button>
</form>

<script>
    lucide.createIcons();
</script>