<!-- Header -->
<div class="text-center mb-6">
    <h1 class="text-2xl font-bold text-base-content">Create your account</h1>
    <p class="text-base-content/60 mt-1">Start your journey with Full Stack Go Template</p>
</div>

{{if .Error}}
<div class="alert alert-error mb-6 animate-scale-in">
    <i data-lucide="alert-circle" class="w-5 h-5"></i>
    <span>{{.Error}}</span>
</div>
{{end}}

<form hx-post="/signup" hx-target="#signup-content" hx-swap="innerHTML" class="space-y-4">
    <!-- Name Field -->
    <div class="form-control">
        <label class="label" for="name">
            <span class="label-text font-medium">Full name</span>
        </label>
        <label
            class="input input-bordered flex items-center gap-3 focus-within:input-primary transition-all duration-200">
            <i data-lucide="user" class="w-5 h-5 text-base-content/40"></i>
            <input type="text" id="name" name="name" value="{{if .Form}}{{.Form.Name}}{{end}}"
                class="grow bg-transparent border-none focus:outline-none" placeholder="John Doe" required
                autocomplete="name">
        </label>
    </div>

    <!-- Email Field -->
    <div class="form-control">
        <label class="label" for="email">
            <span class="label-text font-medium">Email address</span>
        </label>
        <label
            class="input input-bordered flex items-center gap-3 focus-within:input-primary transition-all duration-200">
            <i data-lucide="mail" class="w-5 h-5 text-base-content/40"></i>
            <input type="email" id="email" name="email" value="{{if .Form}}{{.Form.Email}}{{end}}"
                class="grow bg-transparent border-none focus:outline-none" placeholder="you@example.com" required
                autocomplete="email">
        </label>
    </div>

    <!-- Password Field -->
    <div class="form-control" x-data="{ showPassword: false }">
        <label class="label" for="password">
            <span class="label-text font-medium">Password</span>
        </label>
        <label
            class="input input-bordered flex items-center gap-3 focus-within:input-primary transition-all duration-200">
            <i data-lucide="lock" class="w-5 h-5 text-base-content/40"></i>
            <input :type="showPassword ? 'text' : 'password'" id="password" name="password"
                class="grow bg-transparent border-none focus:outline-none" placeholder="Create a strong password"
                required autocomplete="new-password" minlength="8">
            <button type="button" @click="showPassword = !showPassword"
                class="btn btn-ghost btn-xs btn-circle hover:bg-base-200">
                <i x-show="!showPassword" data-lucide="eye" class="w-4 h-4"></i>
                <i x-show="showPassword" data-lucide="eye-off" class="w-4 h-4" x-cloak></i>
            </button>
        </label>
    </div>

    <!-- Confirm Password Field -->
    <div class="form-control" x-data="{ showPassword: false }">
        <label class="label" for="confirm_password">
            <span class="label-text font-medium">Confirm password</span>
        </label>
        <label
            class="input input-bordered flex items-center gap-3 focus-within:input-primary transition-all duration-200">
            <i data-lucide="lock" class="w-5 h-5 text-base-content/40"></i>
            <input :type="showPassword ? 'text' : 'password'" id="confirm_password" name="confirm_password"
                class="grow bg-transparent border-none focus:outline-none" placeholder="Confirm your password" required
                autocomplete="new-password">
            <button type="button" @click="showPassword = !showPassword"
                class="btn btn-ghost btn-xs btn-circle hover:bg-base-200">
                <i x-show="!showPassword" data-lucide="eye" class="w-4 h-4"></i>
                <i x-show="showPassword" data-lucide="eye-off" class="w-4 h-4" x-cloak></i>
            </button>
        </label>
    </div>

    <!-- Terms Checkbox -->
    <div class="form-control">
        <label class="label cursor-pointer justify-start gap-3">
            <input type="checkbox" id="terms" name="terms" required class="checkbox checkbox-primary checkbox-sm" />
            <span class="label-text text-sm">
                I agree to the
                <a href="#" class="link link-primary">Terms of Service</a> and
                <a href="#" class="link link-primary">Privacy Policy</a>
            </span>
        </label>
    </div>

    <!-- Submit Button -->
    <button type="submit"
        class="btn btn-primary w-full gap-2 text-base shadow-lg shadow-primary/25 hover:shadow-primary/40 transition-all duration-300 mt-2">
        <span class="htmx-indicator loading loading-spinner loading-sm"></span>
        <i data-lucide="user-plus" class="w-5 h-5"></i>
        Create account
    </button>
</form>

<!-- Info Alert -->
<div class="alert bg-info/10 border-info/20 mt-6">
    <i data-lucide="info" class="w-5 h-5 text-info"></i>
    <span class="text-sm">
        The first registered user will become <strong>Super Admin</strong> with full system access.
    </span>
</div>

<!-- Sign In Link -->
<p class="text-center text-base-content/60 mt-6">
    Already have an account?
    <a href="/signin" class="link link-primary font-semibold hover:link-secondary transition-colors">
        Sign in
    </a>
</p>

<script>
    lucide.createIcons();
</script>